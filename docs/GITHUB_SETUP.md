# 🐙 GitHub Repository Setup Guide

## 📋 Complete Setup Instructions

### Step 1: Create GitHub Repository

#### Option A: Using GitHub Web Interface
1. Go to [GitHub.com](https://github.com)
2. Click the **"+"** icon → **"New repository"**
3. Configure:
   - **Repository name**: `ibex-devops-task`
   - **Description**: "AWS Infrastructure & CI/CD Pipeline - DevOps Engineer Task"
   - **Visibility**: Public or Private (your choice)
   - **Initialize**: DON'T add README, .gitignore, or license (we have them)
4. Click **"Create repository"**

#### Option B: Using GitHub CLI
```bash
# Install GitHub CLI if needed
# brew install gh  # macOS
# sudo apt install gh  # Ubuntu

# Authenticate
gh auth login

# Create repository
gh repo create ibex-devops-task \
  --description "AWS Infrastructure & CI/CD Pipeline - DevOps Engineer Task" \
  --public \
  --source . \
  --push
```

### Step 2: Initialize Local Repository

```bash
# Navigate to your project directory
cd ibex-devops-task

# Initialize git
git init

# Add all files
git add .

# Commit
git commit -m "Initial commit: Complete DevOps solution with Terraform and CI/CD"

# Add remote (replace with your username)
git remote add origin https://github.com/YOUR_USERNAME/ibex-devops-task.git

# Push to GitHub
git branch -M main
git push -u origin main
```

### Step 3: Configure GitHub Secrets

Navigate to: **Settings** → **Secrets and variables** → **Actions**

Click **"New repository secret"** for each:

#### Required Secrets

| Secret Name | Value | Description |
|------------|-------|-------------|
| `AWS_ACCESS_KEY_ID` | Your AWS Access Key | From AWS IAM |
| `AWS_SECRET_ACCESS_KEY` | Your AWS Secret Key | From AWS IAM |
| `DOCKER_HUB_USERNAME` | Your Docker Hub username | Docker Hub account |
| `DOCKER_HUB_TOKEN` | Docker Hub access token | Create at hub.docker.com |
| `S3_BUCKET_NAME` | `ibex-devops-artifacts-unique123` | Must be globally unique |
| `EC2_SSH_PRIVATE_KEY` | Contents of .pem file | Generated by Terraform |

#### How to Create Docker Hub Token
1. Go to [Docker Hub](https://hub.docker.com)
2. Account Settings → Security → Access Tokens
3. Click **"New Access Token"**
4. Description: `GitHub Actions`
5. Access permissions: `Read, Write, Delete`
6. Copy token and save as secret

#### How to Get AWS Credentials
```bash
# If using AWS CLI profiles
cat ~/.aws/credentials

# Or create new IAM user
aws iam create-user --user-name github-actions
aws iam create-access-key --user-name github-actions
```

### Step 4: Configure Branch Protection (Optional but Recommended)

1. Go to **Settings** → **Branches**
2. Click **"Add rule"**
3. Branch name pattern: `main`
4. Enable:
   - ✅ Require a pull request before merging
   - ✅ Require status checks to pass
   - ✅ Require branches to be up to date
   - ✅ Include administrators
5. Click **"Create"**

### Step 5: Enable GitHub Actions

1. Go to **Actions** tab
2. Click **"I understand my workflows, go ahead and enable them"**
3. Verify workflow appears: `.github/workflows/deploy.yml`

### Step 6: Configure GitHub Pages (For Documentation)

1. Go to **Settings** → **Pages**
2. Source: **Deploy from a branch**
3. Branch: **main** / **docs** folder
4. Click **"Save"**

### Step 7: Add Repository Topics

1. Go to repository main page
2. Click ⚙️ gear icon next to **About**
3. Add topics:
   - `terraform`
   - `aws`
   - `docker`
   - `devops`
   - `ci-cd`
   - `infrastructure-as-code`

### Step 8: Create Initial Tags and Releases

```bash
# Create semantic version tag
git tag -a v1.0.0 -m "Initial release: Complete DevOps solution"
git push origin v1.0.0

# Create GitHub release (via CLI)
gh release create v1.0.0 \
  --title "v1.0.0 - Initial Release" \
  --notes "Complete AWS Infrastructure and CI/CD Pipeline solution
  
  Features:
  - Terraform Infrastructure as Code
  - Docker containerization
  - CI/CD with GitHub Actions
  - Security best practices
  - Comprehensive documentation"
```

## 📁 Repository Structure

```
ibex-devops-task/
├── .github/
│   ├── workflows/
│   │   └── deploy.yml         # GitHub Actions CI/CD
│   ├── ISSUE_TEMPLATE/
│   │   └── bug_report.md
│   └── PULL_REQUEST_TEMPLATE.md
├── terraform/                 # Infrastructure code
├── app/                      # Application code
├── docs/                     # Documentation
├── scripts/                  # Helper scripts
├── .gitignore               # Git ignore rules
├── README.md                # Main documentation
└── LICENSE                  # License file
```

## 🔄 Workflow Triggers

The GitHub Actions workflow triggers on:
- **Push to main**: Automatic deployment
- **Pull Requests**: Build and test only
- **Manual trigger**: Via Actions tab
- **Schedule**: Add cron for regular deployments

### Manual Deployment
1. Go to **Actions** tab
2. Select **"Deploy to AWS"** workflow
3. Click **"Run workflow"**
4. Select branch and environment
5. Click **"Run workflow"** button

## 🔐 Security Best Practices

### Repository Security
```bash
# Enable security scanning
# Settings → Security & analysis

# Enable:
✅ Dependency graph
✅ Dependabot alerts
✅ Dependabot security updates
✅ Secret scanning
✅ Code scanning
```

### Secrets Management
- Never commit secrets to repository
- Use GitHub Secrets for sensitive data
- Rotate credentials regularly
- Use least privilege IAM policies

### Branch Protection
- Protect main branch
- Require PR reviews
- Enable status checks
- Enforce linear history

## 📊 GitHub Badges

Add these badges to your README:

```markdown
![Build Status](https://github.com/YOUR_USERNAME/ibex-devops-task/workflows/Deploy%20to%20AWS/badge.svg)
![Terraform](https://img.shields.io/badge/Terraform-v1.0+-623CE4?logo=terraform)
![AWS](https://img.shields.io/badge/AWS-Cloud-FF9900?logo=amazon-aws)
![Docker](https://img.shields.io/badge/Docker-Containerized-2496ED?logo=docker)
![License](https://img.shields.io/github/license/YOUR_USERNAME/ibex-devops-task)
![Last Commit](https://img.shields.io/github/last-commit/YOUR_USERNAME/ibex-devops-task)
```

## 🚀 First Deployment

After setup, trigger your first deployment:

```bash
# Make a small change
echo "<!-- Deployed via GitHub Actions -->" >> app/index.html

# Commit and push
git add .
git commit -m "feat: trigger first GitHub Actions deployment"
git push

# Watch the workflow
gh run watch
```

## 📈 Monitoring Your Repository

### GitHub Insights
- **Pulse**: Recent activity
- **Contributors**: Contribution graph
- **Traffic**: Clone and visitor stats
- **Commits**: History and frequency
- **Code frequency**: Additions/deletions over time

### Actions Analytics
- Go to **Actions** tab
- View workflow runs
- Check success/failure rate
- Monitor deployment times

## 🤝 Collaboration Features

### Issue Templates
Create `.github/ISSUE_TEMPLATE/bug_report.md`:
```markdown
---
name: Bug report
about: Create a report to help us improve
title: '[BUG] '
labels: bug
assignees: ''
---

**Describe the bug**
A clear description of the bug.

**To Reproduce**
Steps to reproduce the behavior.

**Expected behavior**
What you expected to happen.

**Screenshots**
If applicable, add screenshots.

**Environment:**
- OS: [e.g., Ubuntu 20.04]
- Terraform version: [e.g., 1.5.0]
- AWS Region: [e.g., us-east-1]
```

### Pull Request Template
Create `.github/PULL_REQUEST_TEMPLATE.md`:
```markdown
## Description
Brief description of changes

## Type of Change
- [ ] Bug fix
- [ ] New feature
- [ ] Documentation update
- [ ] Performance improvement

## Testing
- [ ] Terraform plan successful
- [ ] Application builds successfully
- [ ] Deployment tested

## Checklist
- [ ] Code follows style guidelines
- [ ] Self-review completed
- [ ] Comments added where necessary
- [ ] Documentation updated
- [ ] No secrets in code
```

## 🔍 Repository Settings Checklist

- [ ] Repository created and initialized
- [ ] All files pushed to GitHub
- [ ] Secrets configured in Settings
- [ ] GitHub Actions enabled
- [ ] Branch protection configured
- [ ] Topics added
- [ ] Initial release created
- [ ] Security features enabled
- [ ] README badges added
- [ ] First workflow run successful

## 📝 Sample Git Workflow

```bash
# Create feature branch
git checkout -b feature/add-monitoring

# Make changes
# ... edit files ...

# Commit with conventional commits
git add .
git commit -m "feat: add CloudWatch monitoring"

# Push branch
git push origin feature/add-monitoring

# Create PR via CLI
gh pr create \
  --title "Add CloudWatch monitoring" \
  --body "This PR adds CloudWatch metrics and alarms"

# After review, merge
gh pr merge --squash
```

## 🎯 Tips for Presentation

When showing your GitHub repository:

1. **Start with the README**: Show professional documentation
2. **Navigate to Actions**: Show successful workflow runs
3. **Open a workflow run**: Show detailed steps and logs
4. **Go to Settings → Secrets**: Explain security (don't show values!)
5. **Show Insights → Traffic**: Demonstrate activity
6. **Open Issues/PRs**: Show project management
7. **Browse code**: Highlight key files and organization

## 🆘 Troubleshooting

### Workflow Not Running
```bash
# Check workflow syntax
act --list  # Using nektos/act for local testing

# Check secrets
gh secret list

# View workflow runs
gh run list
```

### Permission Denied
```bash
# Ensure Actions has write permissions
# Settings → Actions → General → Workflow permissions
# Select: Read and write permissions
```

### Deployment Failed
```bash
# View logs
gh run view <run-id> --log

# Re-run failed jobs
gh run rerun <run-id>
```

## 📚 Additional Resources

- [GitHub Actions Documentation](https://docs.github.com/actions)
- [GitHub CLI Manual](https://cli.github.com/manual/)
- [Terraform GitHub Actions](https://github.com/hashicorp/setup-terraform)
- [Docker Build Actions](https://github.com/docker/build-push-action)

---

Your GitHub repository is now professionally configured with enterprise-grade CI/CD! 🎉